:root{
  --text: #e5e7eb;
  --muted: #94a3b8;
  --border: #334155;
  --button-bg: #0f172a;
  --button-text: #e5e7eb;
  --button-border: #334155;
  --panel: rgba(8,12,22,0.65);
  --card-border: rgba(255,255,255,0.08);
  --panel-2: rgba(8,12,22,0.5);
  --fg: var(--text);
  --fg-dim: var(--muted);
  --chip-ok-bg: #12391a;
  --chip-ok-fg: #86efac;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Layout utilities */
.app-grid{ position:relative; z-index:1; display:grid; grid-auto-rows:min-content; align-items:start; width:100%; margin:0; }
.app-root{ min-height:100vh; display:block; position:relative; }
.cols-1{ grid-template-columns:1fr; }
.cols-2{ grid-template-columns:auto 1fr; }
.pad-8{ padding:8px; }
.pad-16{ padding:16px; }

.grid-1{ display:grid; grid-template-columns:1fr; gap:8px; }
.grid-gap8{ display:grid; grid-template-columns:1fr; gap:8px; }
.grid-gap10-2cols{ display:grid; grid-template-columns:1fr 1fr; gap:8px; }
.row-1fr-auto{ display:grid; grid-template-columns:1fr auto; gap:6px; align-items:center; }
.flex-row{ display:flex; align-items:center; gap:6px; }
.inline-flex-row{ display:inline-flex; align-items:center; gap:6px; }
.center{ text-align:center; }
.right{ text-align:right; }
.justify-between{ display:flex; justify-content:space-between; gap:6px; }
.align-center{ display:flex; align-items:center; gap:8px; }
.mb-6{ margin-bottom:6px; }
.mb-8{ margin-bottom:8px; }
.mt-8{ margin-top:8px; }
.mr-4{ margin-right:4px; }
.ox-auto{ overflow-x:auto; }
.w-90{ width:90px; }
.w-150{ width:150px; }
.h-32{ height:32px; }
.minw-40{ min-width:40px; }
.gap-10{ gap:10px; }
.hidden{ display:none !important; }
.block{ display:block; }

/* Typography */
.small{ font-size:12px; }
.text{ color: var(--text); }
.muted{ color: var(--muted); }
.bold{ font-weight:600; }

.section-title{ font-weight:600; color: var(--text); font-size:12px; opacity:.9; }
.hr-thin{ height:1px; background: var(--border); opacity:.3; margin:4px 0; }

/* Form controls */
.input{ width:100%; min-width:0; height:36px; border-radius:10px; border:1px solid var(--button-border); background:var(--button-bg); color:var(--button-text); padding:0 8px; font-size:14px; }
.select{ width:100%; height:36px; border-radius:10px; border:1px solid var(--button-border); background:var(--button-bg); color:var(--button-text); padding:0 8px; font-size:14px; }
.select{ font-weight:600; }
.label{ display:block; color: var(--text); font-size:12px; margin-bottom:6px; }

/* Buttons */
.btn{ appearance:none; border:1px solid var(--button-border); background:var(--button-bg); color:var(--button-text); border-radius:4px; padding:2px 6px; cursor:pointer; }
.btn-round{ width:36px; height:36px; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; font-size:18px; line-height:36px; }
.btn-mr{ margin-right:4px; }
.btn-block{ display:block; width:100%; padding:10px; font-weight:600; }
.btn:disabled{ cursor:not-allowed; opacity:.6; }
.bar{ display:flex; justify-content:space-between; gap:6px; }
.bar-left{ display:flex; align-items:center; gap:8px; }
.bar-end{ display:flex; justify-content:flex-end; gap:8px; }
.grid-gap6{ display:grid; grid-template-columns:1fr; gap:6px; margin-bottom:6px; }
.label-dark{ color:#000; font-size:12px; }
.svg-full{ width:100%; height:100%; display:block; }

/* Cards */
.card{ background: var(--panel); border:1px solid var(--card-border); border-radius:12px; padding:12px; }
.card-controls{ width:100%; max-width:260px; margin:0 10px; }
.preview-card{ width:100%; max-width:260px; margin:0 10px; color:var(--text); outline:none; }
.svg-canvas{ background: var(--button-bg); border:1px solid var(--border); border-radius:8px; -webkit-user-select:none; user-select:none; touch-action:none; }
.svg-canvas.grab{ cursor:grab; }
.svg-canvas.grabbing{ cursor:grabbing; }
.glass{ -webkit-backdrop-filter: blur(2px); backdrop-filter: blur(2px); }
.pre-block{ margin:0; padding:12px; border-radius:10px; background:var(--panel-2); border:1px solid #2b3646; color:var(--text); font-family:var(--font-mono); font-size:13px; line-height:1.35; overflow-x:auto; }

/* Segmented */
.seg{ gap:2px; background:#0f172a; border:1px solid var(--button-border); border-radius:12px; padding:2px; }
.seg-btn{ appearance:none; border:none; cursor:pointer; padding:8px 12px; border-radius:10px; font-size:14px; min-width:56px; touch-action:manipulation; color:#cbd5e1; background:transparent; }
.seg-btn.seg-active{ background:#111827; color:#e5e7eb; }

/* Tables */
.table{ width:100%; border-collapse:collapse; font-size:12px; }
.th{ text-align:left; border-bottom:1px solid var(--border); padding:6px; }
.td{ border-bottom:1px solid var(--border); padding:6px; }
.caption-small{ font-size:11px; opacity:.75; margin-top:4px; }

/* Background helpers */
.bg-fixed{ position:fixed; inset:0; z-index:-1; pointer-events:none; }
.abs-fill{ position:absolute; inset:0; display:block; }
.bg-rock{ background-image:url('/img/rock.png'); background-size:cover; background-position:center; filter:brightness(1.12); }

/* Ads */
.ad-card{ background: var(--panel); border:1px solid var(--card-border); border-radius:12px; padding:8px; }

/* Chips */
.chip{ border-radius:999px; padding:2px 8px; font-size:12px; font-weight:600; display:inline-block; }
.chip-ok{ background: var(--chip-ok-bg); color: var(--chip-ok-fg); }
